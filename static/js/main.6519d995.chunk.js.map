{"version":3,"sources":["components/FlightWithWeather/styles.module.scss","components/Cities/styles.module.scss","components/Cities/City/styles.module.scss","components/Placeholder/styles.module.scss","components/FlightWithWeather/index.tsx","components/Placeholder/index.tsx","hooks/useFetch.ts","utils.ts","components/WeatherWeekData/index.tsx","components/FlightsWeekData/index.tsx","components/Cities/City/index.tsx","components/Cities/cities.ts","components/Cities/index.tsx","App.tsx","index.tsx"],"names":["module","exports","Weather","temp","condition","className","styles","weather","icon","src","toLowerCase","alt","FlightWithWeather","dateMs","tempFrom","tempTo","conditionFrom","conditionTo","flyFromCode","flyToCode","price","_date","Date","day","getDate","month","toLocaleString","container","row","date","weatherContent","direction","btn","Placeholder","elm","type","error","loader","initialState","data","loading","reducer","state","simpleCache","useFetch","url","useReducer","dispatch","useEffect","controller","AbortController","signal","fetch","then","res","ok","Error","status","statusText","json","catch","aborted","abort","formatDate","rawMonth","getMonth","year","getFullYear","WeatherWeekData","children","lat","lon","getUrlForecastsByLocation","daily","slice","FlightsWeekData","days","dateFrom","dateTo","now","getDateRange","getUrlFlights","weekFlightPrices","reduce","acc","flight","departure","dTime","City","flyFrom","flyTo","weatherDeparture","city","title","name","cover","code","coords","weekWeather","weekFlights","week","map","i","dt","rawPrice","key","Math","round","main","cities","Cities","useState","setFlyFrom","btnGroup","tab","selected","onClick","filter","App","mainView","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6519d995.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__YpZd6\",\"row\":\"styles_row__3RWRG\",\"date\":\"styles_date__3uitB\",\"price\":\"styles_price__2SPtO\",\"weatherContent\":\"styles_weatherContent__3lCwH\",\"weather\":\"styles_weather__yFQmH\",\"temp\":\"styles_temp__1JcbR\",\"icon\":\"styles_icon__2ng59\",\"direction\":\"styles_direction__1OP6r\",\"btn\":\"styles_btn__3x5wx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3eQ69\",\"row\":\"styles_row__32s-U\",\"title\":\"styles_title__23wcw\",\"btnGroup\":\"styles_btnGroup__3gGfE\",\"tab\":\"styles_tab__3l0wT\",\"selected\":\"styles_selected__8MzEk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2rBeX\",\"week\":\"styles_week__3qcfH\",\"city\":\"styles_city__v9ONn\",\"cover\":\"styles_cover__1OUyL\",\"title\":\"styles_title__2mBIS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__28gg0\",\"error\":\"styles_error__O01q6\",\"loader\":\"styles_loader__2nYGJ\",\"load7\":\"styles_load7__aXSCo\"};","import React from 'react';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n\tdateMs: number;\n\ttempFrom: number;\n\ttempTo: number;\n\tflyFromCode: string;\n\tflyToCode: string;\n\tprice: string;\n\tconditionFrom: string;\n\tconditionTo: string;\n};\n\nconst FlightWithWeather: React.FC<Props> = ({\n\tdateMs,\n\ttempFrom,\n\ttempTo,\n\tconditionFrom,\n\tconditionTo,\n\tflyFromCode,\n\tflyToCode,\n\tprice,\n}) => {\n\tconst _date = new Date(dateMs);\n\tconst day = _date.getDate();\n\tconst month = _date.toLocaleString('default', { month: 'short' });\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div className={styles.row}>\n\t\t\t\t<div className={styles.date}>\n\t\t\t\t\t<b>{day}</b>\n\t\t\t\t\t<span>{month}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.weatherContent}>\n\t\t\t\t\t<Weather temp={tempFrom} condition={conditionFrom} />\n\t\t\t\t\t<div className={styles.direction}>\n\t\t\t\t\t\t{flyFromCode} ⭢ {flyToCode}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Weather temp={tempTo} condition={conditionTo} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.price}>{price}</div>\n\t\t\t\t<div className={styles.btn}>Book Now</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst Weather: React.FC<{ temp: number; condition: string }> = ({ temp, condition }) => {\n\treturn (\n\t\t<div className={styles.weather}>\n\t\t\t<div className={styles.temp}>\n\t\t\t\t<span>{temp}</span>\n\t\t\t\t<sup>°C</sup>\n\t\t\t</div>\n\t\t\t<div className={styles.icon}>\n\t\t\t\t<img src={`/travel-app/assets/weather/${condition.toLowerCase()}.svg`} alt={condition} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default FlightWithWeather;\n","import React from 'react';\n\nimport styles from './styles.module.scss';\n\nconst Placeholder: React.FC<{ type: string }> = ({ type }) => {\n\tlet elm: JSX.Element | null = null;\n\n\tswitch (type) {\n\t\tcase 'error':\n\t\t\telm = <div className={styles.error}>Something went wrong.</div>;\n\t\t\tbreak;\n\t\tcase 'loading':\n\t\t\telm = <div className={styles.loader} />;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\treturn <div className={styles.container}>{elm}</div>;\n};\n\nexport default Placeholder;\n","import { useEffect, useReducer } from 'react';\n\nconst FETCH_REQUEST: string = 'FETCH_REQUEST';\nconst FETCH_ERROR: string = 'FETCH_ERROR';\nconst FETCH_SUCCESS: string = 'FETCH_SUCCESS';\n\ntype Err =\n\t| {\n\t\t\tmessage: string;\n\t  }\n\t| undefined\n\t| null;\n\ntype State<Data> = {\n\tdata: Data | undefined | null;\n\terror: Err;\n\tloading: boolean;\n};\n\ntype Action<Data> = {\n\ttype: string;\n\terror?: Err;\n\tdata?: Data | undefined | null;\n};\n\nconst initialState: State<null> = {\n\tdata: null,\n\tloading: false,\n\terror: null,\n};\n\nfunction reducer(state: State<null>, { type, error, data }: Action<null>) {\n\tswitch (type) {\n\t\tcase FETCH_REQUEST:\n\t\t\treturn {\n\t\t\t\tdata: null,\n\t\t\t\terror: null,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase FETCH_SUCCESS:\n\t\t\treturn {\n\t\t\t\tdata,\n\t\t\t\terror: null,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tcase FETCH_ERROR:\n\t\t\treturn {\n\t\t\t\terror,\n\t\t\t\tdata: null,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nconst simpleCache: { [key: string]: any } = {};\n\nfunction useFetch<Data>(url: string): State<Data> {\n\tconst [{ error, data, loading }, dispatch] = useReducer(reducer, initialState);\n\n\tuseEffect(() => {\n\t\tif (simpleCache[url]) {\n\t\t\treturn dispatch({ type: FETCH_SUCCESS, data: simpleCache[url] });\n\t\t}\n\n\t\tconst controller = new AbortController();\n\t\tconst signal = controller.signal;\n\n\t\tdispatch({ type: FETCH_REQUEST });\n\n\t\tfetch(url, { signal })\n\t\t\t.then((res) => {\n\t\t\t\tif (!res.ok) {\n\t\t\t\t\tthrow Error(`Fetch Error: { code: ${res.status}, message: ${res.statusText} }`);\n\t\t\t\t}\n\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tsimpleCache[url] = data;\n\t\t\t\tdispatch({ type: FETCH_SUCCESS, data });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (!signal.aborted) {\n\t\t\t\t\tdispatch({ type: FETCH_ERROR, error });\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn () => {\n\t\t\tcontroller.abort();\n\t\t};\n\t}, [url]);\n\n\treturn { error, data, loading };\n}\n\nexport default useFetch;\n","const apiKeyOpenWeatherMap: string = '8358372df4c3473cfb5f592d22e3d14c';\n\n// format JSDate to DD-MM-YYY\nexport const formatDate = (date: Date): string => {\n\tconst day = date.getDate();\n\tconst rawMonth = date.getMonth() + 1;\n\tconst month = rawMonth < 10 ? `0${rawMonth}` : rawMonth;\n\tconst year = date.getFullYear();\n\n\treturn `${day}/${month}/${year}`;\n};\n\n// generate Date Range from current date + [days]\nexport const getDateRange = (days: number): { dateFrom: string; dateTo: string } => {\n\tconst dateFrom = new Date();\n\tconst dateTo = new Date(Date.now() + days * 24 * 60 * 60 * 1000);\n\n\treturn {\n\t\tdateFrom: formatDate(dateFrom),\n\t\tdateTo: formatDate(dateTo),\n\t};\n};\n\nexport const getUrlForecastsByLocation = ({ lat, lon }: { lat: number; lon: number }): string => `https://api.openweathermap.org/data/2.5/onecall?units=metric&lat=${lat}&lon=${lon}&\n\texclude=hourly,current&appid=${apiKeyOpenWeatherMap}`;\n\nexport const getUrlFlights = ({ flyFromCode, flyToCode, dateFrom, dateTo }: { flyFromCode: string; flyToCode: string; dateFrom: string; dateTo: string }): string =>\n\t`https://api.skypicker.com/flights?flyFrom=${flyFromCode}&to=${flyToCode}&dateFrom=${dateFrom}&dateTo=${dateTo}&partner=picky&v=3`;\n","import React from 'react';\n\nimport Placeholder from 'components/Placeholder';\n\nimport useFetch from 'hooks/useFetch';\nimport { getUrlForecastsByLocation } from 'utils';\nimport { TWeather, DailyWeather } from 'types/weather';\n\ntype Props = {\n\tlat: number;\n\tlon: number;\n\tchildren?: (data: Array<DailyWeather>) => any;\n};\n\nconst WeatherWeekData: React.FC<Props> = ({ children, lat, lon }) => {\n\tconst { loading, error, data } = useFetch<TWeather>(getUrlForecastsByLocation({ lat, lon }));\n\n\tif (loading) {\n\t\treturn <Placeholder type=\"loading\" />;\n\t}\n\n\tif (error) {\n\t\treturn <Placeholder type=\"error\" />;\n\t}\n\n\treturn data && children ? children(data.daily.slice(0, 7)) : null;\n};\n\nexport default WeatherWeekData;\n","import React from 'react';\n\nimport Placeholder from 'components/Placeholder';\n\nimport useFetch from 'hooks/useFetch';\nimport { getDateRange, getUrlFlights } from 'utils';\n\nimport { SearchFlight } from 'types/flights';\n\ntype Props = {\n\tflyFromCode: string;\n\tflyToCode: string;\n\tchildren?: (data: { [key: number]: number }) => any;\n};\n\nconst FlightsWeekData: React.FC<Props> = ({ children, flyFromCode, flyToCode }) => {\n\tconst { dateFrom, dateTo } = getDateRange(7); // 7 days range\n\n\tconst { loading, error, data } = useFetch<SearchFlight>(\n\t\tgetUrlFlights({\n\t\t\tflyFromCode,\n\t\t\tflyToCode,\n\t\t\tdateFrom,\n\t\t\tdateTo,\n\t\t}),\n\t);\n\n\tif (loading) {\n\t\treturn <Placeholder type=\"loading\" />;\n\t}\n\n\tif (error) {\n\t\treturn <Placeholder type=\"error\" />;\n\t}\n\n\tconst weekFlightPrices =\n\t\tdata &&\n\t\tdata.data.reduce((acc: { [key: number]: number }, flight) => {\n\t\t\tconst departure = new Date(flight.dTime * 1000).getDate();\n\t\t\tconst price = flight.price;\n\n\t\t\tif (!acc[departure]) {\n\t\t\t\tacc[departure] = price;\n\t\t\t}\n\n\t\t\tif (acc[departure] > price) {\n\t\t\t\tacc[departure] = price;\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {});\n\n\treturn weekFlightPrices && children ? children(weekFlightPrices) : null;\n};\n\nexport default FlightsWeekData;\n","import React from 'react';\n\nimport FlightWithWeather from 'components/FlightWithWeather';\nimport WeatherWeekData from 'components/WeatherWeekData';\nimport FlightsWeekData from 'components/FlightsWeekData';\n\nimport { DailyWeather } from 'types/weather';\nimport { TCity } from './../cities';\n\nimport styles from './styles.module.scss';\n\nexport type Props = {\n\tflyFrom: TCity;\n\tflyTo: TCity;\n\tweatherDeparture: Array<DailyWeather>;\n};\n\nconst City: React.FC<Props> = ({ flyFrom, flyTo, weatherDeparture }) => {\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div className={styles.city}>\n\t\t\t\t<div className={styles.title}>\n\t\t\t\t\t{flyFrom.name} ⭢ <b>{flyTo.name}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.cover}>\n\t\t\t\t\t<img src={`/travel-app/assets/cities/${flyTo.code.toLowerCase()}.jpg`} alt={flyTo.name} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<WeatherWeekData lat={flyTo.coords.lat} lon={flyTo.coords.lon}>\n\t\t\t\t{(weekWeather) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<FlightsWeekData flyFromCode={flyFrom.code} flyToCode={flyTo.code}>\n\t\t\t\t\t\t\t{(weekFlights) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className={styles.week}>\n\t\t\t\t\t\t\t\t\t\t{weekWeather.map((day, i) => {\n\t\t\t\t\t\t\t\t\t\t\tconst date = new Date(day.dt * 1000).getDate();\n\t\t\t\t\t\t\t\t\t\t\tconst rawPrice = weekFlights[date];\n\t\t\t\t\t\t\t\t\t\t\tconst price = `${rawPrice} €`;\n\n\t\t\t\t\t\t\t\t\t\t\tif (!rawPrice) return null;\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<FlightWithWeather\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={day.dt}\n\t\t\t\t\t\t\t\t\t\t\t\t\tprice={price}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttempFrom={Math.round(weatherDeparture[i].temp.day)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconditionFrom={weatherDeparture[i].weather[0].main}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateMs={day.dt * 1000}\n\t\t\t\t\t\t\t\t\t\t\t\t\tflyToCode={flyTo.code}\n\t\t\t\t\t\t\t\t\t\t\t\t\tflyFromCode={flyFrom.code}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttempTo={Math.round(day.temp.day)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconditionTo={day.weather[0].main}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</FlightsWeekData>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</WeatherWeekData>\n\t\t</div>\n\t);\n};\n\nexport default City;\n","export type TCity = {\n\tname: string;\n\tcoords: { lat: number; lon: number };\n\tcode: string;\n};\n\nconst cities: Array<TCity> = [\n\t{\n\t\tname: 'Amsterdam',\n\t\tcoords: { lat: 52.3667, lon: 4.8945 },\n\t\tcode: 'AMS',\n\t},\n\t{\n\t\tname: 'Madrid',\n\t\tcoords: { lat: 40.4168, lon: 3.7038 },\n\t\tcode: 'MAD',\n\t},\n\t{\n\t\tname: 'Budapest',\n\t\tcoords: { lat: 47.4979, lon: 19.0402 },\n\t\tcode: 'BUD',\n\t},\n];\n\nexport default cities;\n","import React, { useState } from 'react';\n\nimport City from './City';\nimport WeatherWeekData from 'components/WeatherWeekData';\n\nimport cities, { TCity } from './cities';\nimport styles from './styles.module.scss';\n\nconst Cities = () => {\n\tconst [flyFrom, setFlyFrom] = useState<TCity | null>(null);\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div>\n\t\t\t\t<h2 className={styles.title}>You want to fly from</h2>\n\t\t\t\t<p className={styles.btnGroup}>\n\t\t\t\t\t{cities.map((city) => (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={`${styles.tab} ${city.code === flyFrom?.code ? styles.selected : ''}`}\n\t\t\t\t\t\t\tkey={city.name}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetFlyFrom(city);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{city.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{flyFrom && (\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className={styles.title}>You have a few flight options: </h2>\n\t\t\t\t\t<div className={styles.row}>\n\t\t\t\t\t\t<WeatherWeekData lat={flyFrom.coords.lat} lon={flyFrom.coords.lon}>\n\t\t\t\t\t\t\t{(weekWeather) => {\n\t\t\t\t\t\t\t\treturn cities\n\t\t\t\t\t\t\t\t\t.filter(({ code }) => code !== flyFrom.code)\n\t\t\t\t\t\t\t\t\t.map((city) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<City\n\t\t\t\t\t\t\t\t\t\t\t\tkey={city.code}\n\t\t\t\t\t\t\t\t\t\t\t\tflyTo={city}\n\t\t\t\t\t\t\t\t\t\t\t\tflyFrom={flyFrom}\n\t\t\t\t\t\t\t\t\t\t\t\tweatherDeparture={weekWeather}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</WeatherWeekData>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Cities;\n","import React from 'react';\nimport Cities from 'components/Cities';\nimport styles from 'components/Cities/styles.module.scss';\n\nconst App = () => {\n\treturn (\n\t\t<div className={styles.mainView}>\n\t\t\t<Cities />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}